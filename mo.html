<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Муниципальное образование — МО «Красненькая речка»</title>
    <link rel="stylesheet" href="style.css">
    <meta name="viewport" content="width=device-width,initial-scale=1">
</head>
<body data-active="mo">
<header id="site-header"></header>

<main>
    <h1>Муниципальное образование</h1>

    <ul class="list">
        <li id="council">
            <details>
                <summary>Муниципальный совет</summary>
                <div class="section">
                    <div class="council-section">
                        <div class="member big">
                            <img src="img/bonoshko.jpg" alt="">
                            <h3>Бонюшко Дмитрий Михайлович</h3>
                            <p>Глава ВМО «Красненькая речка», председатель муниципального совета</p>
                        </div>
                        <div class="member big">
                            <img src="img/antonov.jpg" alt="">
                            <h3>Антонов Сергей Андреевич</h3>
                            <p>Заместитель главы ВМО «Красненькая речка»</p>
                        </div>
                        <div class="member">
                            <img src="img/golubnichaya.jpg" alt="">
                            <h3>Голубничая Кристина Сергеевна</h3>
                            <p>Заместитель главы администрации</p>
                        </div>
                        <div class="member">
                            <img src="img/bogdanova.jpg" alt="">
                            <h3>Богданова Наталья Валентиновна</h3>
                            <p>Начальник отдела</p>
                        </div>
                        <div class="member">
                            <img src="img/nikolaev.jpg" alt="">
                            <h3>Николаев Александр Иванович</h3>
                            <p>Заместитель начальника отдела</p>
                        </div>
                        <div class="member">
                            <img src="img/valeeva.jpg" alt="">
                            <h3>Валеева Жанна Валерьевна</h3>
                            <p>Специалист администрации</p>
                        </div>
                        <div class="member">
                            <img src="img/ryabkov.jpg" alt="">
                            <h3>Рябков Андрей Борисович</h3>
                            <p>Специалист администрации</p>
                        </div>
                        <div class="member">
                            <img src="img/gudiev.jpg" alt="">
                            <h3>Гудиев Дмитрий Валерьевич</h3>
                            <p>Специалист администрации</p>
                        </div>
                    </div>
                </div>
            </details>
        </li>

        <li id="admin">
            <details>
                <summary>Местная администрация</summary>

                <div class="section" style="margin-top:12px;">
                    <div class="leaders">
                        <p><b>Глава местной администрации</b> — СЕМЕНОВ Михаил Викторович</p>
                        <p><b>Заместитель Главы Местной Администрации</b> — ЯРЦЕВ Владимир Владимирович</p>
                    </div>


                    <h3 style="margin:14px 14px 8px;color:#7c1512;">ОТДЕЛЫ МА МО «Красненькая речка»</h3>

                    <!-- Социальный отдел -->
                    <details class="dept">
                        <summary>Социальный отдел</summary>
                        <div class="dept-body">
                            <p>Организация и проведение массовых мероприятий, организация досуга населения и вопросами культуры на территории округа.</p>
                            <div class="role"><b>Руководитель</b>: МИХАЙЛОВ Владимир Валерьевич</div>
                            <div class="role"><b>Специалист 1 категории</b>: ШАГИАХМЕТОВА Анастасия Михайловна</div>
                        </div>
                    </details>

                    <!-- Плановый отдел -->
                    <details class="dept">
                        <summary>Плановый отдел</summary>
                        <div class="dept-body">
                            <p>Ведение бухгалтерского учета и решение вопросов финансовой деятельности.</p>
                            <div class="role"><b>Руководитель</b>: ЛИ Татьяна Владимировна</div>
                            <div class="role"><b>Ведущий специалист</b>: АБРАМОВА Юлия Леонидовна</div>
                        </div>
                    </details>

                    <!-- Отдел опеки и попечительства -->
                    <details class="dept">
                        <summary>Отдел опеки и попечительства</summary>
                        <div class="dept-body">
                            <p>Ведение отдельных государственных полномочий по организации и осуществлению деятельности по опеке и попечительству.</p>
                            <div class="role"><b>Руководитель</b>: АЛЕКСЕЕВА Наталья Вячеславовна</div>
                            <div class="role"><b>Ведущий специалист</b>: НИКОЛАЕВА Ильмира Гашиковна</div>
                        </div>
                    </details>

                    <!-- Отдел благоустройства -->
                    <details class="dept">
                        <summary>Отдел благоустройства</summary>
                        <div class="dept-body">
                            <p>Решает вопросы внешнего благоустройства территории, внутриквартального озеленения, а также вопросы содействия в области ЖКХ и потребительского рынка.</p>
                            <div class="role"><b>Руководитель</b>: ШАНЦЕВА Оксана Викторовна</div>
                            <div class="role"><b>Главный специалист</b>: ЛЮБИМОВА Регина Александровна</div>
                        </div>
                    </details>

                    <!-- Организационно-правовой отдел -->
                    <details class="dept">
                        <summary>Организационно-правовой отдел</summary>
                        <div class="dept-body">
                            <p>Ведение внутреннего и внешнего документооборота, взаимодействие с государственными структурами.</p>
                            <div class="role"><b>Руководитель</b>: ПАНКРАТОВ Антон Александрович</div>
                            <div class="role"><b>Специалист 1 категории</b>: КУВАЕВА Наталья Анатольевна</div>
                        </div>
                    </details>

                    <!-- Бухгалтерия -->
                    <details class="dept">
                        <summary>Бухгалтерия</summary>
                        <div class="dept-body">
                            <p>Формирование, утверждение, исполнение бюджета муниципального образования и контроль за его исполнением.</p>
                            <div class="role"><b>Главный бухгалтер</b>: ШАПОВАЛОВА Ольга Анатольевна</div>
                        </div>
                    </details>
                </div>

            </details>
        </li>

        <li id="commissions">
            <details>
                <summary>Постоянные комиссии МО</summary>
                <div class="section"> <!--style="margin-top:12px;"-->
                    <ul style="margin:0; padding-left:18px;">
                        <li><a href="files/infos_list/Постоянные комиссии МО/16-2.pdf" download>16-2.pdf</a></li>
                        <li><a href="files/infos_list/Постоянные комиссии МО/№5.pdf" download>№5.pdf</a></li>
                    </ul>
                </div>
            </details>
        </li>
        <li id="custody">
            <details>
                <summary>Опека и попечительства</summary>
                <div class="section" style="margin-top:12px;">
                    <ul style="margin:0; padding-left:18px;">
                        <li><a href="files/infos_list/Опека/Blank_zayavleniya_grazhdanina_zhelayushchego_prinyat_v_svoyu_semyu.pdf" download>Blank_zayavleniya_grazhdanina_zhelayushchego_prinyat_v_svoyu_semyu.pdf</a></li>
                        <li><a href="files/infos_list/Опека/Бланк_заявления_на_опеку_несовершеннолетнего_гражданина_в_иных_установленных.docx" download>Бланк_заявления_на_опеку_несовершеннолетнего_гражданина_в_иных_установленных.docx</a></li>
                        <li><a href="files/infos_list/Опека/Обращаем_внимание_кандидатов_в_усыновители_и_опекуны_8.docx" download>Обращаем_внимание_кандидатов_в_усыновители_и_опекуны_8.docx</a></li>
                        <li><a href="files/infos_list/Опека/Опека_и_попечительство_10.docx" download>Опека_и_попечительство_10.docx</a></li>
                        <li><a href="files/infos_list/Опека/Опека_над_недееспособными_гражданами_9.docx" download>Опека_над_недееспособными_гражданами_9.docx</a></li>
                        <li><a href="files/infos_list/Опека/Перечень_документов_для_кандидата_в_опекуны_недееспособного,_состоящих.docx" download>Перечень_документов_для_кандидата_в_опекуны_недееспособного,_состоящих.docx</a></li>
                        <li><a href="files/infos_list/Опека/Перечень_документов_для_кандидата_в_опекуны_недееспособного.docx" download>Перечень_документов_для_кандидата_в_опекуны_недееспособного.docx</a></li>
                        <li><a href="files/infos_list/Опека/Перечень_документов_на_установление_опеки_над_недееспопсобным_гражданином.docx" download>Перечень_документов_на_установление_опеки_над_недееспопсобным_гражданином.docx</a></li>
                        <li><a href="files/infos_list/Опека/Подготовка_граждан,_выразивших_желание_стать_опекунами_или_попечителями (2).docx" download>Подготовка_граждан,_выразивших_желание_стать_опекунами_или_попечителями (2).docx</a></li>
                        <li><a href="files/infos_list/Опека/Подготовка_граждан,_выразивших_желание_стать_опекунами_или_попечителями.docx" download>Подготовка_граждан,_выразивших_желание_стать_опекунами_или_попечителями.docx</a></li>
                        <li><a href="files/infos_list/Опека/Прием_органов_опеки_и_попечительства_7.docx" download>Прием_органов_опеки_и_попечительства_7.docx</a></li>
                        <li><a href="files/infos_list/Опека/Требования,_предъявляемые_к_опекунам_11.docx" download>Требования,_предъявляемые_к_опекунам_11.docx</a></li>
                    </ul>
                </div>
            </details>
        </li>

        <!-- Новый блок "Заказы и закупки" -->
        <li id="procurement">
            <details>
                <summary>Заказы и закупки</summary>
                <div class="section" style="margin-top:12px;">
                    <p>
                        <b>Закупка товаров, работ, услуг</b><br><br>
                        Информация о закупках товаров, работ и услуг для обеспечения государственных и муниципальных нужд находится
                        на официальном сайте Российской Федерации в сети Интернет для размещения информации о размещении заказов на
                        поставки товаров, выполнение работ, оказание услуг:
                        <a href="http://www.zakupki.gov.ru/" target="_blank" rel="noopener" style="color:#a4151a; font-weight:600; text-decoration:underline;">
                            ОФИЦИАЛЬНЫЙ САЙТ ЕДИНОЙ ИНФОРМАЦИОННОЙ СИСТЕМЫ В СФЕРЕ ЗАКУПОК
                        </a>
                    </p>
                </div>
            </details>
        </li>
        <li id="vacancies">
            <details>
                <summary>Вакансии</summary>
                <div class="section" style="margin-top:12px;">
                    <ul style="margin:0; padding-left:18px;">
                        <li><a href="files/infos_list/Вакансии/2025_09_09_35_О_Об_объявлении_конкурса_на_замещение_вакантной_должности.docx" download>2025_09_09_35_О_Об_объявлении_конкурса_на_замещение_вакантной_должности.docx</a></li>
                        <li><a href="files/infos_list/Вакансии/2025_09_09_36_О_Об_объявлении_конкурса_на_замещение_вакантной_должности.docx" download>2025_09_09_36_О_Об_объявлении_конкурса_на_замещение_вакантной_должности.docx</a></li>
                        <li><a href="files/infos_list/Вакансии/2025_09_23_38_О_О_переносе_сроков_проведения_конкурса_на_замещение.docx" download>2025_09_23_38_О_О_переносе_сроков_проведения_конкурса_на_замещение.docx</a></li>
                        <li><a href="files/infos_list/Вакансии/О_признании_проведения_конкурса.docx" download>О_признании_проведения_конкурса.docx</a></li>
                        <li><a href="files/infos_list/Вакансии/Объявление_1.docx" download>Объявление_1.docx</a></li>
                        <li><a href="files/infos_list/Вакансии/Объявление_2.docx" download>Объявление_2.docx</a></li>
                        <li><a href="files/infos_list/Вакансии/Объявление_3.docx" download>Объявление_3.docx</a></li>
                        <li><a href="files/infos_list/Вакансии/Объявление_4.docx" download>Объявление_4.docx</a></li>
                        <li><a href="files/infos_list/Вакансии/Объявление_5.docx" download>Объявление_5.docx</a></li>
                        <li><a href="files/infos_list/Вакансии/Объявление_6.docx" download>Объявление_6.docx</a></li>
                        <li><a href="files/infos_list/Вакансии/Объявление_7.doc" download>Объявление_7.doc</a></li>
                        <li><a href="files/infos_list/Вакансии/Проект_трудового_договора_решение_МС_от_30_10_2013_№_28.docx" download>Проект_трудового_договора_решение_МС_от_30_10_2013_№_28.docx</a></li>
                        <li><a href="files/infos_list/Вакансии/Распоряжение_о_замещении_вакантов.docx" download>Распоряжение_о_замещении_вакантов.docx</a></li>
                    </ul>
                </div>
            </details>
        </li>
    </ul>
</main>

<footer id="site-footer"></footer>
<script src="include.js"></script>
<!--1-->

<!--<script>-->
<!--    document.addEventListener('DOMContentLoaded', () => {-->
<!--        function openSectionFromHash() {-->
<!--            const hash = window.location.hash;-->
<!--            if (!hash) return;-->
<!--            const targetLi = document.querySelector(hash);-->
<!--            const det = targetLi ? targetLi.querySelector('details') : null;-->

<!--            // закрыть все-->
<!--            document.querySelectorAll('.list details').forEach(d => d.removeAttribute('open'));-->

<!--            if (det) {-->
<!--                det.setAttribute('open', true);-->
<!--                setTimeout(() => {-->
<!--                    det.scrollIntoView({ behavior: 'smooth', block: 'start' });-->
<!--                }, 150);-->
<!--            }-->
<!--        }-->

<!--        // аккордеон по клику: открыть текущий, закрыть остальные-->
<!--        document.querySelectorAll('.list details > summary').forEach(sum => {-->
<!--            sum.addEventListener('click', (e) => {-->
<!--                const det = sum.parentElement;-->
<!--                const willOpen = !det.open;  // состояние после нативного тога-->
<!--                // закрыть все остальные-->
<!--                document.querySelectorAll('.list details').forEach(d => {-->
<!--                    if (d !== det) d.removeAttribute('open');-->
<!--                });-->
<!--                // дать нативному поведению завершиться и подскроллить если открыли-->
<!--                setTimeout(() => {-->
<!--                    if (willOpen) det.scrollIntoView({ behavior: 'smooth', block: 'start' });-->
<!--                }, 120);-->
<!--            });-->
<!--        });-->

<!--        // при загрузке и смене хэша открываем нужный-->
<!--        openSectionFromHash();-->
<!--        window.addEventListener('hashchange', openSectionFromHash);-->
<!--    });-->
<!--</script>-->
<!--<script>-->
<!--    document.addEventListener('DOMContentLoaded', () => {-->
<!--        const detailsList = [...document.querySelectorAll('.list details')];-->

<!--        // помечаем "тело" каждой панели и готовим её к анимации-->
<!--        detailsList.forEach(det => {-->
<!--            const panel = [...det.children].find(el => el.tagName !== 'SUMMARY');-->
<!--            if (!panel) return;-->
<!--            panel.classList.add('mo-panel');-->
<!--            panel.style.maxHeight = '0px';-->
<!--            det.__panel = panel; // сохраним ссылку-->
<!--        });-->

<!--        // как в documents.html — настраиваем высоту панели равной контенту-->
<!--        const adjustMaxHeight = (panel) => {-->
<!--            requestAnimationFrame(() => {-->
<!--                panel.style.maxHeight = panel.scrollHeight + 'px';-->
<!--            });-->
<!--        };-->

<!--        // открыть одну, остальные закрыть-->
<!--        const openOne = (targetDet) => {-->
<!--            detailsList.forEach(d => {-->
<!--                const p = d.__panel;-->
<!--                if (!p) return;-->
<!--                if (d === targetDet) {-->
<!--                    d.setAttribute('open', '');-->
<!--                    adjustMaxHeight(p);-->
<!--                } else {-->
<!--                    p.style.maxHeight = '0px';-->
<!--                    d.removeAttribute('open');-->
<!--                }-->
<!--            });-->
<!--        };-->

<!--        // клики по заголовкам-->
<!--        detailsList.forEach(det => {-->
<!--            const summary = det.querySelector('summary');-->
<!--            if (!summary || !det.__panel) return;-->

<!--            summary.addEventListener('click', (e) => {-->
<!--                e.preventDefault();-->
<!--                const isOpen = det.hasAttribute('open');-->

<!--                if (isOpen) {-->
<!--                    // закрываем текущий, как в documents — просто ставим max-height 0-->
<!--                    det.__panel.style.maxHeight = '0px';-->
<!--                    det.removeAttribute('open');-->
<!--                } else {-->
<!--                    openOne(det);-->
<!--                    det.scrollIntoView({ behavior: 'smooth', block: 'start' });-->
<!--                }-->
<!--            });-->
<!--        });-->

<!--        // открытие по якорю (#council, #custody ...), как раньше-->
<!--        function openSectionFromHash() {-->
<!--            const hash = window.location.hash;-->
<!--            if (!hash) return;-->
<!--            const targetLi = document.querySelector(hash);-->
<!--            const det = targetLi ? targetLi.querySelector('details') : null;-->
<!--            if (!det) return;-->
<!--            openOne(det);-->
<!--            setTimeout(() => {-->
<!--                det.scrollIntoView({ behavior: 'smooth', block: 'start' });-->
<!--            }, 150);-->
<!--        }-->

<!--        openSectionFromHash();-->
<!--        window.addEventListener('hashchange', openSectionFromHash);-->
<!--    });-->
<!--</script>-->

<!--2-->
<!--<script>-->
<!--    document.addEventListener('DOMContentLoaded', () => {-->
<!--        const detailsList = [...document.querySelectorAll('.list details')];-->

<!--        // помечаем "тело" каждой панели .mo-panel-->
<!--        detailsList.forEach(det => {-->
<!--            const panel = [...det.children].find(el => el.tagName !== 'SUMMARY');-->
<!--            if (!panel) return;-->
<!--            panel.classList.add('mo-panel');-->
<!--            panel.style.maxHeight = '0px';-->
<!--            det.__panel = panel;-->
<!--        });-->

<!--        // утилиты открытия/закрытия с плавностью, как в documents.html-->
<!--        const openPanel = (det) => {-->
<!--            const p = det.__panel;-->
<!--            if (!p) return;-->
<!--            p.style.transition = 'none';-->
<!--            p.style.maxHeight = '0px';-->
<!--            void p.offsetHeight; // reflow-->
<!--            p.style.transition = 'max-height .25s ease';-->
<!--            det.setAttribute('open', '');-->
<!--            requestAnimationFrame(() => {-->
<!--                p.style.maxHeight = p.scrollHeight + 'px';-->
<!--            });-->
<!--        };-->

<!--        const closePanel = (det) => {-->
<!--            const p = det.__panel;-->
<!--            if (!p) return;-->
<!--            p.style.transition = 'none';-->
<!--            p.style.maxHeight = p.scrollHeight + 'px';-->
<!--            void p.offsetHeight; // reflow-->
<!--            p.style.transition = 'max-height .25s ease';-->
<!--            requestAnimationFrame(() => {-->
<!--                p.style.maxHeight = '0px';-->
<!--            });-->
<!--            const onEnd = (e) => {-->
<!--                if (e.propertyName !== 'max-height') return;-->
<!--                p.removeEventListener('transitionend', onEnd);-->
<!--                det.removeAttribute('open');-->
<!--            };-->
<!--            p.addEventListener('transitionend', onEnd);-->
<!--        };-->

<!--        const closeOthers = (target) => {-->
<!--            detailsList.forEach(d => {-->
<!--                if (d !== target && d.hasAttribute('open')) closePanel(d);-->
<!--            });-->
<!--        };-->

<!--        // клики по summary-->
<!--        detailsList.forEach(det => {-->
<!--            const summary = det.querySelector('summary');-->
<!--            if (!summary || !det.__panel) return;-->
<!--            summary.addEventListener('click', (e) => {-->
<!--                e.preventDefault();-->
<!--                const isOpen = det.hasAttribute('open');-->
<!--                if (isOpen) {-->
<!--                    closePanel(det);-->
<!--                } else {-->
<!--                    closeOthers(det);-->
<!--                    openPanel(det);-->
<!--                    det.scrollIntoView({ behavior: 'smooth', block: 'start' });-->
<!--                }-->
<!--            });-->
<!--        });-->

<!--        // открытие по якорю (#council, #custody, ...)-->
<!--        function openSectionFromHash() {-->
<!--            const target = document.querySelector(window.location.hash + ' details');-->
<!--            if (!target) return;-->
<!--            closeOthers(target);-->
<!--            openPanel(target);-->
<!--            setTimeout(() => {-->
<!--                target.scrollIntoView({ behavior: 'smooth', block: 'start' });-->
<!--            }, 150);-->
<!--        }-->
<!--        openSectionFromHash();-->
<!--        window.addEventListener('hashchange', openSectionFromHash);-->
<!--    });-->
<!--</script>-->

<!--3-->
<!--<script>-->
<!--    document.addEventListener('DOMContentLoaded', () => {-->
<!--        const detailsList = [...document.querySelectorAll('.list details')];-->

<!--        // помечаем "тело" панели и готовим к анимации-->
<!--        detailsList.forEach(det => {-->
<!--            const panel = [...det.children].find(el => el.tagName !== 'SUMMARY');-->
<!--            if (!panel) return;-->
<!--            panel.classList.add('mo-panel');          // в CSS у .mo-panel: max-height:0; transition...-->
<!--            panel.style.maxHeight = '0px';-->
<!--            det.__panel = panel;-->
<!--        });-->

<!--        // утилиты плавного открытия/закрытия (как в documents)-->
<!--        const openPanel = (det) => {-->
<!--            const p = det.__panel; if (!p) return;-->
<!--            p.style.transition = 'none';-->
<!--            p.style.maxHeight = '0px'; void p.offsetHeight;     // reflow-->
<!--            p.style.transition = 'max-height .25s ease';-->
<!--            det.setAttribute('open', '');-->
<!--            requestAnimationFrame(() => { p.style.maxHeight = p.scrollHeight + 'px'; });-->
<!--        };-->
<!--        const closePanel = (det) => {-->
<!--            const p = det.__panel; if (!p) return;-->
<!--            p.style.transition = 'none';-->
<!--            p.style.maxHeight = p.scrollHeight + 'px'; void p.offsetHeight; // фиксируем текущую высоту-->
<!--            p.style.transition = 'max-height .25s ease';-->
<!--            requestAnimationFrame(() => { p.style.maxHeight = '0px'; });-->
<!--            const onEnd = (e) => {-->
<!--                if (e.propertyName !== 'max-height') return;-->
<!--                p.removeEventListener('transitionend', onEnd);-->
<!--                det.removeAttribute('open');-->
<!--            };-->
<!--            p.addEventListener('transitionend', onEnd);-->
<!--        };-->
<!--        const closeAll = () => {-->
<!--            detailsList.forEach(d => {-->
<!--                d.removeAttribute('open');-->
<!--                if (d.__panel) d.__panel.style.maxHeight = '0px';-->
<!--            });-->
<!--        };-->
<!--        const closeOthers = (target) => {-->
<!--            detailsList.forEach(d => { if (d !== target && d.hasAttribute('open')) closePanel(d); });-->
<!--        };-->

<!--        // клики по summary-->
<!--        detailsList.forEach(det => {-->
<!--            const sum = det.querySelector('summary');-->
<!--            if (!sum || !det.__panel) return;-->
<!--            sum.addEventListener('click', (e) => {-->
<!--                e.preventDefault();-->
<!--                const isOpen = det.hasAttribute('open');-->
<!--                if (isOpen) {-->
<!--                    closePanel(det);-->
<!--                } else {-->
<!--                    closeOthers(det);-->
<!--                    openPanel(det);-->
<!--                    det.scrollIntoView({ behavior: 'smooth', block: 'start' });-->
<!--                }-->
<!--            });-->
<!--        });-->

<!--        // открытие по якорю (#council и т.п.)-->
<!--        function openFromHash() {-->
<!--            const target = document.querySelector(window.location.hash + ' details');-->
<!--            if (!target) return;               // если hash пуст — ничего не открываем-->
<!--            closeOthers(target);-->
<!--            openPanel(target);-->
<!--            setTimeout(() => {-->
<!--                target.scrollIntoView({ behavior: 'smooth', block: 'start' });-->
<!--            }, 150);-->
<!--        }-->

<!--        // гарантированно схлопнуть всё на старте-->
<!--        closeAll();-->
<!--        openFromHash();                      // откроет ТОЛЬКО если есть hash-->

<!--        // доп. защита после полной загрузки (если что-то вмешалось)-->
<!--        window.addEventListener('load', closeAll);-->
<!--        window.addEventListener('hashchange', openFromHash);-->
<!--    });-->
<!--</script>-->

<!--4-->
<!--<script>-->
<!--    document.addEventListener('DOMContentLoaded', () => {-->
<!--        /* === ВЕРХНИЙ АККОРДЕОН (cовет/администрация/и т.д.) === */-->
<!--        const topDetails = [...document.querySelectorAll('.list > li > details')];-->

<!--        // помечаем панели-->
<!--        topDetails.forEach(det => {-->
<!--            const panel = [...det.children].find(el => el.tagName !== 'SUMMARY');-->
<!--            if (!panel) return;-->
<!--            panel.classList.add('mo-panel');-->
<!--            panel.style.maxHeight = '0px';-->
<!--            det.__panel = panel;-->
<!--        });-->

<!--        const adjustMaxHeight = (panel) => {-->
<!--            requestAnimationFrame(() => {-->
<!--                panel.style.maxHeight = panel.scrollHeight + 'px';-->
<!--            });-->
<!--        };-->

<!--        const openOne = (targetDet) => {-->
<!--            topDetails.forEach(d => {-->
<!--                const p = d.__panel;-->
<!--                if (!p) return;-->
<!--                if (d === targetDet) {-->
<!--                    d.setAttribute('open', '');-->
<!--                    adjustMaxHeight(p);-->
<!--                } else {-->
<!--                    p.style.maxHeight = '0px';-->
<!--                    d.removeAttribute('open');-->
<!--                }-->
<!--            });-->
<!--        };-->

<!--        topDetails.forEach(det => {-->
<!--            const summary = det.querySelector('summary');-->
<!--            if (!summary || !det.__panel) return;-->

<!--            summary.addEventListener('click', (e) => {-->
<!--                e.preventDefault();-->
<!--                const isOpen = det.hasAttribute('open');-->
<!--                if (isOpen) {-->
<!--                    det.__panel.style.maxHeight = '0px';-->
<!--                    det.removeAttribute('open');-->
<!--                } else {-->
<!--                    openOne(det);-->
<!--                    det.scrollIntoView({ behavior: 'smooth', block: 'start' });-->
<!--                }-->
<!--            });-->
<!--        });-->

<!--        function openSectionFromHash() {-->
<!--            const hash = window.location.hash;-->
<!--            if (!hash) return;-->
<!--            const targetLi = document.querySelector(hash);-->
<!--            const det = targetLi ? targetLi.querySelector(':scope > details') : null;-->
<!--            if (!det) return;-->
<!--            openOne(det);-->
<!--            setTimeout(() => {-->
<!--                det.scrollIntoView({ behavior: 'smooth', block: 'start' });-->
<!--            }, 120);-->
<!--        }-->
<!--        openSectionFromHash();-->
<!--        window.addEventListener('hashchange', openSectionFromHash);-->

<!--        /* === ВНУТРЕННИЕ «ОТДЕЛЫ» В ADMIN (НЕ ЗАКРЫВАЮТ РОДИТЕЛЯ) === */-->
<!--        const innerDepts = document.querySelectorAll('#admin .dept');-->

<!--        innerDepts.forEach(det => {-->
<!--            const body = det.querySelector('.dept-body');-->
<!--            if (!body) return;-->

<!--            body.style.maxHeight = '0px';-->
<!--            body.style.overflow = 'hidden';-->

<!--            // плавно как в documents.html-->
<!--            det.addEventListener('toggle', () => {-->
<!--                if (det.open) {-->
<!--                    requestAnimationFrame(() => {-->
<!--                        body.style.maxHeight = body.scrollHeight + 'px';-->
<!--                    });-->
<!--                } else {-->
<!--                    body.style.maxHeight = '0px';-->
<!--                }-->
<!--            });-->

<!--            // клик по summary — только для этого details-->
<!--            const sum = det.querySelector('summary');-->
<!--            if (sum) {-->
<!--                sum.addEventListener('click', (e) => {-->
<!--                    // не даём «верхнему» аккордеону вмешиваться-->
<!--                    e.stopPropagation();-->
<!--                });-->
<!--            }-->
<!--        });-->
<!--    });-->
<!--</script>-->

<!--5-->
<script>
    document.addEventListener('DOMContentLoaded', () => {
        /* === ВЕРХНИЙ АККОРДЕОН (cовет/администрация/и т.д.) — как раньше === */
        const topDetails = [...document.querySelectorAll('.list > li > details')];

        topDetails.forEach(det => {
            const panel = [...det.children].find(el => el.tagName !== 'SUMMARY');
            if (!panel) return;
            panel.classList.add('mo-panel');
            panel.style.maxHeight = '0px';
            det.__panel = panel;
        });

        const adjustMaxHeight = (panel) => {
            requestAnimationFrame(() => {
                panel.style.maxHeight = panel.scrollHeight + 'px';
            });
        };

        const openOne = (targetDet) => {
            topDetails.forEach(d => {
                const p = d.__panel;
                if (!p) return;
                if (d === targetDet) {
                    d.setAttribute('open', '');
                    adjustMaxHeight(p);
                } else {
                    p.style.maxHeight = '0px';
                    d.removeAttribute('open');
                }
            });
        };

        topDetails.forEach(det => {
            const summary = det.querySelector('summary');
            if (!summary || !det.__panel) return;

            summary.addEventListener('click', (e) => {
                e.preventDefault();
                const isOpen = det.hasAttribute('open');
                if (isOpen) {
                    det.__panel.style.maxHeight = '0px';
                    det.removeAttribute('open');
                } else {
                    openOne(det);
                    det.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            });
        });

        function openSectionFromHash() {
            const hash = window.location.hash;
            if (!hash) return;
            const targetLi = document.querySelector(hash);
            const det = targetLi ? targetLi.querySelector(':scope > details') : null;
            if (!det) return;
            openOne(det);
            setTimeout(() => det.scrollIntoView({ behavior:'smooth', block:'start' }), 120);
        }
        openSectionFromHash();
        window.addEventListener('hashchange', openSectionFromHash);

        /* === ВНУТРЕННИЕ «ОТДЕЛЫ» В ADMIN (теперь пересчитывают высоту родителя) === */
        const innerDepts = document.querySelectorAll('#admin .dept');

        innerDepts.forEach(det => {
            const body = det.querySelector('.dept-body');
            if (!body) return;

            // найдём внешнюю панель (в которой этот отдел лежит)
            const parentTop = topDetails.find(td => td.contains(det));
            const parentPanel = parentTop && parentTop.__panel ? parentTop.__panel : null;

            // стартовое состояние
            body.style.maxHeight = '0px';
            body.style.overflow = 'hidden';
            body.style.transition = 'max-height .25s ease';

            // плавное открытие/закрытие отдела
            det.addEventListener('toggle', () => {
                if (det.open) {
                    body.style.maxHeight = body.scrollHeight + 'px';
                    if (parentPanel) adjustMaxHeight(parentPanel);
                } else {
                    body.style.maxHeight = '0px';
                    if (parentPanel) adjustMaxHeight(parentPanel);
                }
            });

            // при окончании анимации пересчитываем высоту родителя — чтобы не было обрезаний
            body.addEventListener('transitionend', (e) => {
                if (e.propertyName === 'max-height' && parentPanel) {
                    adjustMaxHeight(parentPanel);
                }
            });

            // запретим всплытие клика, чтобы не закрывался весь блок admin
            const sum = det.querySelector('summary');
            if (sum) sum.addEventListener('click', (e) => e.stopPropagation());
        });

        // на всякий случай пересчёт при ресайзе окна
        // window.addEventListener('resize', () => {
        //     topDetails.forEach(d => d.__panel && adjustMaxHeight(d.__panel));
        // });
        window.addEventListener('resize', () => {
            topDetails.forEach(d => {
                if (d.hasAttribute('open') && d.__panel) {
                    adjustMaxHeight(d.__panel);
                }
            });
        });
    });
</script>


</body>
</html>
